#!/usr/bin/ruby -w

require 'date'
require 'pp'

# require 'extra/enum'

require 'inat/app/application'
require 'inat/data/entity/observation'
require 'inat/data/entity/request'
require 'inat/data/db'
require 'inat/data/query'

app = Application.new

PP::pp app, $>, 64

# puts
# puts DDL.DDL

# PP::pp DB::instance, $>, 64

# data = API::query(:observations, user_login: 'shikhalev', month: 11)

# PP::pp data.map { |d| Observation::parse(d) }.size, $>, 64

# https://www.inaturalist.org/projects/174222
# https://www.inaturalist.org/places/193592
# https://www.inaturalist.org/places/193881 (Ачитский район)

query = Query::new place_id: [ 193881, 193592 ], quality_grade: [ QualityGrade::RESEARCH, QualityGrade::NEEDS_ID ]

PP::pp query.observations.size, $>, 64

# require 'inat/data/types/apiquery'

# pp Time::new.to_date.to_s

# a = ApiQuery::new ololo: 1, lalala: UUID.generate

# PP::pp a, $>, 64
# puts a.to_query

# Request::create ''
