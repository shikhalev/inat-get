#!/usr/bin/ruby -w

require 'date'
require 'pp'

# require 'extra/enum'

require 'inat/app/application'
require 'inat/data/entity/observation'
require 'inat/data/entity/request'
require 'inat/data/db'
require 'inat/data/query'

app = Application.new

PP::pp app, $>, 64

# puts
# puts DDL.DDL

# PP::pp DB::instance, $>, 64

# data = API::query(:observations, user_login: 'shikhalev', month: 11)

# PP::pp data.map { |d| Observation::parse(d) }.size, $>, 64

# https://www.inaturalist.org/projects/174222
# https://www.inaturalist.org/places/193592
# https://www.inaturalist.org/places/193881 (Ачитский район)
# https://www.inaturalist.org/places/194104 (Богдановичский район)
# https://www.inaturalist.org/places/194414 (Качканарский район)
# https://www.inaturalist.org/places/194023 (Берёзовский район)
# https://api.inaturalist.org/v1/observations?project_id=176067&updated_since=2023-10-31T19:36:29+05:00&per_page=200&order_by=id&order=asc&locale=ru&preferred_place_id=11829

query = Query::new project_id: 175551

PP::pp query.observations.size, $>, 64

# require 'inat/data/types/apiquery'

# pp Time::new.to_date.to_s

# a = ApiQuery::new ololo: 1, lalala: UUID.generate

# PP::pp a, $>, 64
# puts a.to_query

# Request::create ''

# pp URI::parse('https://api.inaturalist.org/v1/observations?project_id=176067&updated_since=2023-10-31T19:36:29+05:00&per_page=200&order_by=id&order=asc&locale=ru&preferred_place_id=11829')
